<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: DataService</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: DataService</h1>

    




<section>

<header>
    
        <h2>
        DataService
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="DataService"><span class="type-signature"></span>new DataService<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Provides data objects and potentially manages changes to them.</p>
<p>The constructor for this class does some important registration and any
subclass overriding that constructor should call its superclass constructor
at the beginning of its constructor implementation.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="external-Montage.html">external:Montage</a></li>
    </ul>


    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".mainService"><span class="type-signature">(static) </span>mainService<span class="type-signature"> :<a href="DataService.html">DataService</a></span></h4>




<div class="description">
    <p>A read-only reference to the applicatin's main service.</p>
<p>Applications typically have one and only one main service to which all
requests for data are sent. This service can in turn delegate management
of different types of data to child services specialized for each type.</p>
<p>For this property to be correctly set
<code>registerService()</code> that have
been changed since [saveDataChanges()]@{link DataService.saveDataChanges}
was last called, or since the root service was created if
saveDataChanges() hasn't been called yet.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Set.&lt;Object></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line311">line 311</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="createdDataObjects"><span class="type-signature"></span>createdDataObjects<span class="type-signature"> :Set.&lt;Object></span></h4>




<div class="description">
    <p>A set of the data objects created by this service or any other descendent
of this service's [root service]@{link DataService.rootService} since
[saveDataChanges()]@{link DataService.saveDataChanges} was last called,
or since the root service was created if saveDataChanges() hasn't been
called yet.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Set.&lt;Object></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line330">line 330</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="mapping"><span class="type-signature"></span>mapping<span class="type-signature"> :Object</span></h4>




<div class="description">
    <p>If defined, used by <a href="DataService.html#mapFromRawData"><code>mapFromRawData()</code></a>
to map the raw data on which this service is based to the data objects
returned by this service.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="nullFunction"><span class="type-signature"></span>nullFunction<span class="type-signature"></span></h4>




<div class="description">
    <p>A function that does nothing but returns null, useful for terminating
a promise chain that needs to return null, as in the following code:</p>
<pre class="prettyprint source"><code>var self = this;
return this.fetchSomethingAsynchronously().then(function (data) {
    return self.doSomethingAsynchronously(data.part);
}).then(this.nullFunction);</code></pre>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line851">line 851</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="nullPromise"><span class="type-signature"></span>nullPromise<span class="type-signature"> :<a href="external-Promise.html">external:Promise</a></span></h4>




<div class="description">
    <p>A shared Promise resolved with a value of <code>null</code>, useful for
returning from <a href="DataService.html#getObjectData"><code>getObjectData()</code></a> or
<a href="DataService.html#getPropertyData"><code>getPropertyData()</code></a> when the requested
data is already there.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="external-Promise.html">external:Promise</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line833">line 833</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="rootService"><span class="type-signature"></span>rootService<span class="type-signature"> :<a href="DataService.html">DataService</a></span></h4>




<div class="description">
    <p>The ancestor of this child service that has no parent
service. For most applications this will be the
<a href="DataService.html#.mainService"><code>main service</code></a>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="DataService.html">DataService</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="type"><span class="type-signature"></span>type<span class="type-signature"> :<a href="ObjectDescriptor.html">ObjectDescriptor</a></span></h4>




<div class="description">
    <p>The type of data managed by this service if this service manages only one
type of data, <code>undefined</code> otherwise.</p>
<p>An application typically includes one service for each of its data
types and one <a href="DataService.html#.mainService"><code>main service</code></a> which has
no data type of its own and instead has child services for each of the
application's data types. That main service delegates data management
for each of the application's data type to its child service with the
corresponding type.</p>
<p>A service's type cannot be changed after it is set, and it must be set
before the service is added as a child of another service.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="ObjectDescriptor.html">ObjectDescriptor</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".registerService"><span class="type-signature">(static) </span>registerService<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Register the main service or one of its descendants.</p>
<p>For the <code>mainService</code> constructor calls this method by default for the
first created services, so <a href="DataService.html#.mainService"><code>mainService</code></a>
will be set correctly if the first created service is either the main
service or a descendant of the main service.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line922">line 922</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="addChildService"><span class="type-signature"></span>addChildService<span class="signature">(service)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Adds the specified service as a child of this service. The added service
must have a type and it will become responsible for managing data of that
type for this service.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>service</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataService.html">DataService</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="addRawData"><span class="type-signature"></span>addRawData<span class="signature">(stream, rawData, context)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>To be called by <a href="DataService.html#fetchRawData"><code>fetchRawData()</code></a> when raw
data is received. This method should never be called directly by users of
this service.</p>
<p>This method creates and registers the data objects that
will represent the raw data with repeated calls to
<a href="DataService.html#getDataObject"><code>getDataObject()</code></a>, maps
the raw data to those objects with repeated calls to
<a href="DataService.html#mapFromRawData"><code>mapFromRawData()</code></a>, and then adds those
objects to the specified stream.</p>
<p>Subclasses will probably never need to override
this method, and they can instead override their
<a href="DataService.html#getDataObject"><code>getDataObject()</code></a> method if necessary,
and their <a href="DataService.html#mapFromRawData"><code>mapFromRawData()</code></a> method
or their <a href="DataService.html#mapping"><code>mapping</code></a>'s
<a href="DataMapping.html#mapFromRawData"><code>mapFromRawData()</code></a> method if necessary.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataStream.html">DataStream</a></span>


            
            </td>

            

            

            <td class="description last"><p>The stream to which the data objects
                                  corresponding to the raw data should be
                                  added.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rawData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>An array of objects whose properties'
                                  values hold the raw data. This array
                                  will be modified by this method.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">?</span>


            
            </td>

            

            

            <td class="description last"><p>A value that will be passed to
                                  <code>getDataObject()</code>
                                  and
                                  <a href="DataMapping.html#mapFromRawData"><code>mapFromRawData()</code></a>
                                  if it is provided.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line545">line 545</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="createDataObject"><span class="type-signature"></span>createDataObject<span class="signature">(type)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    <p>Create a new data object of a specified type.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ObjectDescriptor.html">ObjectDescriptor</a></span>


            
            </td>

            

            

            <td class="description last"><p>The type of object to create.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line347">line 347</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>The created object.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="fetchData"><span class="type-signature"></span>fetchData<span class="signature">(selector, stream)</span><span class="type-signature"> &rarr; {<a href="DataStream.html">DataStream</a>}</span></h4>

    



<div class="description">
    <p>Fetch data from the service. This is the main method to be called by
objects using this service.</p>
<p>This method fetches raw data from a server or other source using the
<a href="DataService.html#fetchRawData"><code>fetchRawData()</code></a> method, gets or creates
and registers corresponding data objects using the
<a href="DataService.html#getDataObject"><code>getDataObject()</code></a> method, maps the raw
data to those data objects using the
<a href="DataService.html#mapFromRawData"><code>mapFromRawData()</code></a> method, and then
returns those objects in the specified stream or in a new stream created
for this purpose.</p>
<p>The data may be fetched asynchronously, in which case the data stream
will be returned immediately but the data objects will be gotten and
created or registered, filled with data, and added to the stream at a
later time.</p>
<p>Subclasses should not override this method, they should instead override
their <a href="DataService.html#fetchRawData"><code>fetchRawData()</code></a> method and their
<a href="DataService.html#mapFromRawData"><code>mapFromRawData()</code></a> method or their
<a href="DataService.html#mapping"><code>mapping's</code></a>
<a href="DataMapping.html#mapFromRawData"><code>mapFromRawData()</code></a> method.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>selector</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataSelector.html">DataSelector</a></span>


            
            </td>

            

            

            <td class="description last"><p>Defines what data should be returned.
                                    A <a href="ObjectDescriptor.html"><code>type</code></a> can
                                    be provided instead of a
                                    <a href="DataSelector.html"><code>DataSelector</code></a>, in which
                                    case a DataSelector with no
                                    <a href="DataSelector.html#criteria"><code>criteria</code></a>
                                    will be created and used for the
                                    fetch.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataStream.html">DataStream</a></span>


            
            </td>

            

            

            <td class="description last"><p>The stream to which the provided data
                                    should be added. If not stream is
                                    provided a stream will be created and
                                    returned by this method.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line222">line 222</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>The stream provided to or created by this method.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="DataStream.html">DataStream</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="fetchRawData"><span class="type-signature"></span>fetchRawData<span class="signature">(stream)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Fetch the raw data of this service.</p>
<p>This method should never be called directly by users of this service,
they should call <a href="DataService.html#fetchData"><code>fetchData()</code></a> instead.</p>
<p>This method should be overridden by service Subclasses to fetch the
service's raw data and provide it to the service by calling the service's
<a href="DataService.html#addRawData"><code>addRawData()</code></a> method zero or more times
and its <a href="DataService.html#rawDataDone"><code>rawDataDone()</code></a> method once.</p>
<p>This method must be asynchronous and return as soon as possible even if
it takes a while to obtain the raw data. The raw data can be provided to
the service using <a href="DataService.html#addRawData"><code>addRawData()</code></a> and
<a href="DataService.html#rawDataDone"><code>rawDataDone()</code></a> at any point after this
method is called, even after it returns.</p>
<p>This class' implementation of this method simply calls
<a href="DataService.html#rawDataDone"><code>rawDataDone()</code></a> immediately</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataStream.html">DataStream</a></span>


            
            </td>

            

            

            <td class="description last"><p>The stream to which the data objects
                                    corresponding to the raw data should
                                    be added. This stream contains
                                    references to the selector defining
                                    which raw data to fetch.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line499">line 499</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getChildService"><span class="type-signature"></span>getChildService<span class="signature">(service)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the child service responsible for managing data of a particular type.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>service</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataService.html">DataService</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line135">line 135</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getDataObject"><span class="type-signature"></span>getDataObject<span class="signature">(type, data, context)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    <p>Find an existing object corresponding to the specified raw data, or if no
such object exists, create one.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ObjectDescriptor.html">ObjectDescriptor</a></span>


            
            </td>

            

            

            <td class="description last"><p>The type of object to get or create.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An object whose property values hold
                                    the raw data.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">?</span>


            
            </td>

            

            

            <td class="description last"><p>A value that was passed in to the
                                    <a href="DataService.html#addRawData"><code>addRawData()</code></a>
                                    call that invoked this method.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line413">line 413</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>The object corresponding to the specified raw data,
or if no such object exists a newly created object for that data.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getObjectData"><span class="type-signature"></span>getObjectData<span class="signature">(object, propertyNames)</span><span class="type-signature"> &rarr; {<a href="external-Promise.html">external:Promise</a>}</span></h4>

    



<div class="description">
    <p>Request possibly asynchronous values from a data object.</p>
<p>Subclasses should not override this method, they should override
<a href="DataService.html#getPropertyData"><code>getPropertyData()</code></a> instead.</p>
<p>Although this method returns a promise, the requested data will not be
passed in to the promise's callback. Instead that value will be set on
the object passed in to this method and it can be obtained from there
when the callback is called, as in the following code:</p>
<pre class="prettyprint source"><code>myService.getObjectData(myObject, &quot;x&quot;, &quot;y&quot;).then(function () {
    someFunction(myObject.x, myObject.y);
}</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The object whose property values are
                                     being requested.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>propertyNames</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>The names of each of the properties
                                     whose values are being requested.
                                     These can be provided as an array of
                                     strings or as a list of string
                                     arguments following the object
                                     argument.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line659">line 659</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>A promise fulfilled when all of the
requested data has been received and set on the specified properties of
the passed in object.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="external-Promise.html">external:Promise</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getObjectType"><span class="type-signature"></span>getObjectType<span class="signature">(object)</span><span class="type-signature"> &rarr; {<a href="ObjectDescriptor.html">ObjectDescriptor</a>}</span></h4>

    



<div class="description">
    <p>Get the type of the specified data object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The object whose type is sought.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line428">line 428</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>The type of the object, or undefined if no
type can be determined.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="ObjectDescriptor.html">ObjectDescriptor</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getPropertyData"><span class="type-signature"></span>getPropertyData<span class="signature">(object, name)</span><span class="type-signature"> &rarr; {<a href="external-Promise.html">external:Promise</a>}</span></h4>

    



<div class="description">
    <p>Request the possibly asynchronous value of a single property of a data
object.</p>
<p>This method should not be called directly.
<a href="DataService.html#getObjectData"><code>getObjectData()</code></a> should be called
instead. It will in turn call this method.</p>
<p>Like the promise returned by
<a href="DataService.html#getObjectData"><code>getObjectData()</code></a>, the promise returned
by this method will not pass the requested value to its callback. Instead
that value will be set on the object passed in to this method and it can
be obtained from there when the callback is called.</p>
<p>Subclasses should override this method if they want to provide custom
fetching of object data. Because this method can be called very often,
subclasses overriding it should cache any data that is expensive to
fetch, and they should avoid any slow operations or the creation of
unnecessary objects when returning data that is cached or otherwise
immediately available. One way they can avoid creating unnecessary
objects is by using <a href="DataService.html#nullPromise"><code>nullPromise</code></a> when
appropriate, as in the following code:</p>
<pre class="prettyprint source"><code>getPropertyData: {
    value: function (object, propertyName) {
        var self = this,
            promise = this.nullPromise;
        if (propertyName === &quot;x&quot; && !this.x) {
            promise = this.fetchX().then(function (x) {
                self.x = x;
                return null;
            });
        }
        return promise;
    }
}</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The object whose property value is being
                              requested.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the property whose value is
                              being requested.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line777">line 777</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>A promise fulfilled when the requested
value has been received and set on the specified property of the passed
in object.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="external-Promise.html">external:Promise</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="mapFromRawData"><span class="type-signature"></span>mapFromRawData<span class="signature">(object, data, context)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Convert raw data to data objects of an appropriate type.</p>
<p>Subclasses should override this method to map properties of the raw data
to data objects, as in the following:</p>
<pre class="prettyprint source"><code>mapFromRawData: {
    value: function (object, data) {
        object.firstName = data.GIVEN_NAME;
        object.lastName = data.FAMILY_NAME;
    }
}</code></pre><p>Alternatively, subclasses can define a
<a href="DataService.html#mapping"><code>mapping</code></a> to do this mapping.</p>
<p>The default implementation of this method copies the properties defined
by the raw data object to the data object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An object whose properties must be set or
                            modified to represent the raw data.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>An object whose properties' values hold
                            the raw data.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">?</span>


            
            </td>

            

            

            <td class="description last"><p>A value that was passed in to the
                            <a href="DataService.html#addRawData"><code>addRawData()</code></a>
                            call that invoked this method.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line587">line 587</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="rawDataDone"><span class="type-signature"></span>rawDataDone<span class="signature">(stream)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>To be called once for each
<a href="DataService.html#fetchRawData"><code>fetchRawData()</code></a> call received to
indicate that all the raw data meant for the specified stream has been
added to that stream.</p>
<p>Subclasses will probably never need to override this method.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataStream.html">DataStream</a></span>


            
            </td>

            

            

            <td class="description last"><p>The stream to which the data objects
                                corresponding to the raw data have been
                                added.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line621">line 621</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="removeChildService"><span class="type-signature"></span>removeChildService<span class="signature">(service)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Remove the specified service as a child of this service.</p>
<p>This method will clear the removed service's parentService.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>service</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataService.html">DataService</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line170">line 170</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="saveDataChanges"><span class="type-signature"></span>saveDataChanges<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="external-Promise.html">external:Promise</a>}</span></h4>

    



<div class="description">
    <p>Save all the changes that were made to any of the objects managed by this
service since those objects were fetched. Note that objects fetched by a
child service will be managed by that service's root service, not by the
child service itself.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line291">line 291</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>A promise fulfilled when all of the changed
data has been saved.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="external-Promise.html">external:Promise</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="saveDataObject"><span class="type-signature"></span>saveDataObject<span class="signature">(object)</span><span class="type-signature"> &rarr; {<a href="external-Promise.html">external:Promise</a>}</span></h4>

    



<div class="description">
    <p>Save changes made to one data object managed by this service.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The object whose data should be saved.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line264">line 264</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>A promise fulfilled when all of the data in
the changed object has been saved.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="external-Promise.html">external:Promise</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="spliceWithArray"><span class="type-signature"></span>spliceWithArray<span class="signature">(array, insert, index, length)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Splice an array into another array.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The array to modify.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>insert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>The items to splice into that array.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The index at which to splice those items, by
                            default <code>0</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>length</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The number of items of the original array to
                            replace with items from the spliced array, by
                            default <code>array.length</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="logic_service_data-service.js.html">logic/service/data-service.js</a>, <a href="logic_service_data-service.js.html#line869">line 869</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external-FrbExpression.html">FrbExpression</a></li><li><a href="external-Montage.html">Montage</a></li><li><a href="external-Promise.html">Promise</a></li><li><a href="external-Protocol.html">Protocol</a></li><li><a href="external-RangeChangeListener.html">RangeChangeListener</a></li><li><a href="external-Repetition.html">Repetition</a></li><li><a href="external-specialize.html">specialize</a></li></ul><h3>Classes</h3><ul><li><a href="DataMapping.html">DataMapping</a></li><li><a href="DataObjectDescriptor.html">DataObjectDescriptor</a></li><li><a href="DataPropertyDescriptor.html">DataPropertyDescriptor</a></li><li><a href="DataProvider.html">DataProvider</a></li><li><a href="DataSelector.html">DataSelector</a></li><li><a href="DataService.html">DataService</a></li><li><a href="DataStream.html">DataStream</a></li><li><a href="Enumeration.html">Enumeration</a></li><li><a href="HttpService.html">HttpService</a></li><li><a href="ObjectDescriptor.html">ObjectDescriptor</a></li><li><a href="PropertyDescriptor.html">PropertyDescriptor</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Fri Oct 30 2015 10:20:02 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
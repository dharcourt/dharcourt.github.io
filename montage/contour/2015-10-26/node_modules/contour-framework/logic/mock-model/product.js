/**
 * Created by Thomas on 4/21/15.
 */
/**
 * @module logic/product.js
 */
var Montage = require("montage").Montage,
    Feature = require("logic/model/feature").Feature,
    moment = require("moment-timezone");

var AttributeMap = {
    "app_ID": "appId",
    "app_IDs": "appIds",
    "product_Name": "name",
    "product_ID": "id",
    "parent_ID": "parentId",
    "product_Type": "type",
    "hazard_ID" : "hazard",
    "geo_Locations": "geoLocations",
    "is_Hidden":"isHidden",
    "create_Date":"creationDate",
    "update_Date":"updateDate",
    "timeline_Date": "timelineDate",
    "product_url": "url",
    "comment_Text": "commentText",
    "user_ID": "user",
    "update_User": "updateUser",
    "security_Flag": "securityFlag",
    "org_ID": "orgId",
    "org_IDs": "orgIds",
    "organization_acronym": "orgAcronym"
};
/**
 * @class product
 * @extends Montage
 *
 * Object representing a feature. This may or may not be a placehoder (TBD).
 *
 */
var Product = exports.Product = Montage.specialize(/** @lends product.prototype */ {

    constructor: {
        value: function Product() {
        }
    },

    type: {
        value: Feature.Type.PRODUCT
    }

}, {

    initialize: {
        value: function (data) {
            //var product = new product();
            var product = {};
            for (var key in data) {
                if (AttributeMap[key]) {
                    product[AttributeMap[key]] = data[key];
                } else {
                    product[key] = data[key];
                }
            }
            product.creationDate = moment(parseInt(product.creationDate));
            product.updateDate = moment(parseInt(product.updateDate));
            product.timelineDate = moment(parseInt(product.timelineDate));
            return product;
        }

    }
});

var Montage = require("montage").Montage,
    Bounds = require("logic/map/geometry-utilities").GeometryUtilities;

/**
 * Criteria for feature fetches.
 *
 * This is an immutable object: If individual aspects of the criteria change, a
 * new criteria object has to be created.
 *
 * @class FeatureCriteria
 * @extends external:Montage
 */
exports.FeatureCriteria = Montage.specialize(/** @lends FeatureCriteria# */ {

    /**
     * @type {Layer}
     */
    layer: {
        get: function () {
            return this._layer;
        }
    },

    /**
     * @type {Bounds}
     */
    bounds: {
        get: function () {
            return this._bounds || Bounds.EARTH;
        }
    },

    /**
     * @type {object<string,object>}
     */
    filters: {
        get: function () {
            return this._filters || {};
        }
    }

}, {

    withLayerBoundsAndFilters: {
        value: function (layer, bounds, filters) {
            var criteria = new this();
            criteria._layer = layer;
            criteria._bounds = bounds;
            criteria._filters = filters;
            return criteria;
        }
    }

});

<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="map-tip-overlay.css">
    <script type="text/montage-serialization">
        {
            "owner": {
                "properties": {
                    "element": {
                        "#": "owner"
                    }
                },
                "bindings": {
                    "classList.has('contour-MapTipOverlay--invisible')": {
                        "<-": "@owner.isZooming"
                    },
                    "classList.has('contour-MapTipOverlay--transparent')": {
                        "<-": "@owner.isTransparent"
                    },
                    "classList.has('contour-MapTipOverlay--focused')": {
                        "<-": "@owner.isFocused"
                    },
                    "classList.has('contour-MapTipOverlay--hovered')": {
                        "<-": "@owner.isHovered"
                    }
                }
            },
            "closeMapTipButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "closeMapTipButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "displayFeatureButtons": {
                "prototype": "montage/ui/component",
                "properties": {
                    "element": {
                        "#": "displayFeatureButtons"
                    },
                    "hasTemplate": false
                },
                "bindings": {
                    "classList.has('contour-MapTipOverlay-buttonBar--visible')": {
                        "<-": "@owner.isFocused && @owner.feature.type.id == 'FEATURE'"
                    }
                }
            },
            "displayHazardButtons": {
                "prototype": "montage/ui/component",
                "properties": {
                    "element": {
                        "#": "displayHazardButtons"
                    },
                    "hasTemplate": false
                },
                "bindings": {
                    "classList.has('contour-MapTipOverlay-buttonBar--visible')": {
                        "<-": "@owner.isFocused && @owner.feature.type.id == 'HAZARD'"
                    }
                }
            },
            "displayProductButtons": {
                "prototype": "montage/ui/component",
                "properties": {
                    "element": {
                        "#": "displayProductButtons"
                    },
                    "hasTemplate": false
                },
                "bindings": {
                    "classList.has('contour-MapTipOverlay-buttonBar--visible')": {
                        "<-": "@owner.isFocused && @owner.feature.type.id == 'PRODUCT'"
                    }
                }
            },
            "editHazardButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "editHazardButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "enableDefaultLayersButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "enableDefaultLayersButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "featureSummary": {
                "prototype": "ui/feature/feature-summary.reel",
                "properties": {
                    "element": {
                        "#": "featureSummary"
                    },
                    "displayLayerName": true
                },
                "bindings": {
                    "fields": {
                        "<-": "@owner.feature.type.id == 'FEATURE' ? @owner.feature.layer.featureFields.summary.slice(0, 3): null"
                    },
                    "feature": {
                        "<-": "@owner.feature.type.id == 'FEATURE' ? @owner.feature: null"
                    }
                }
            },
            "importedFeatureSummary": {
                "prototype": "ui/feature/imported-feature-summary.reel",
                "properties": {
                    "element": {
                        "#": "importedFeatureSummary"
                    }
                },
                "bindings": {
                    "feature": {
                        "<-": "@owner.feature"
                    }
                }
            },
            "productSummary": {
                "prototype": "ui/product/product-summary.reel",
                "properties": {
                    "element": {
                        "#": "productSummary"
                    },
                    "displayLayerName": false
                },
                "bindings": {
                    "layer": {
                        "<-": "@owner.feature.type.id == 'PRODUCT' ? @owner.feature.layer: null"
                    },
                    "feature": {
                        "<-": "@owner.feature.type.id == 'PRODUCT' ? @owner.feature: null"
                    },
                    "classList.has('contour-MapTipOverlay--invisible')": {
                        "<-": "@owner.productMapTipState != 'Summary'"
                    }
                }
            },
            "hazardSummary": {
                "prototype": "ui/hazard/hazard-summary.reel",
                "properties": {
                    "element": {
                        "#": "hazardSummary"
                    }
                },
                "bindings": {
                    "hazard": {
                        "<-": "@owner.feature.type.id == 'HAZARD' ? @owner.feature: null"
                    }
                }
            },
            "inspectFeatureButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "inspectFeatureButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "inspectHazardAreaBriefButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "inspectHazardAreaBriefButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "inspectHazardButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "inspectHazardButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "listHazardProductsButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "listHazardProductsButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "substitution": {
                "prototype": "montage/ui/substitution.reel",
                "properties": {
                    "element": {
                        "#": "substitution"
                    }
                },
                "bindings": {
                    "switchValue": {
                        "<-": "@owner.feature.type.id"
                    }
                }
            },
            "zoomToFeatureButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "zoomToFeatureButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "zoomToProductButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "zoomToProductButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "fullScreenButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "fullScreenButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "moreInfoHyperLink": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "moreInfoHyperLink"
                    },
                    "label": ""
                },
                "bindings": {
                    "classList.has('contour-MapTipOverlay-MoreInfoHyperlink--visible')": {
                        "<-": "@owner.displayMoreInfoLink"
                    }
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ]
            },
            "showSummaryButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "showSummaryButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ],
                "bindings": {
                    "classList.has('contour-MapTipOverlay--hidden')": {
                        "<-": "@owner.productMapTipState == 'Summary'"
                    }
                }
            },
            "showGalleryButton": {
                "prototype": "ui/base/button.reel",
                "properties": {
                    "element": {
                        "#": "showGalleryButton"
                    },
                    "label": ""
                },
                "listeners": [
                    {
                        "type": "action",
                        "listener": {
                            "@": "owner"
                        }
                    }
                ],
                "bindings": {
                    "classList.has('contour-MapTipOverlay--hidden')": {
                        "<-": "@owner.productMapTipState == 'Gallery'"
                    }
                }
            },
            "productsGallery": {
                "prototype": "ui/product/product-gallery.reel",
                "properties": {
                    "element": {
                        "#": "productsGallery"
                    },
                    "size": {
                        "width": 150,
                        "height": 150
                    }
                },
                "bindings": {
                    "product": {
                        "<-": "@owner.feature.properties.data"
                    },
                    "classList.has('contour-MapTipOverlay--invisible')": {
                        "<-": "@owner.productMapTipState != 'Gallery'"
                    }
                }
            }
        }
    </script>
</head>
<body>
<div data-montage-id="owner" class="contour-MapTipOverlay">
    <div class="contour-MapTipOverlay-content">
        <div class="contour-MapTipOverlay-closeButton" data-montage-id="closeMapTipButton"></div>
        <div data-montage-id="substitution">
            <div data-arg="FEATURE">
                <div data-montage-id="featureSummary"></div>
                <div class="contour-MapTipOverlay-buttonBar" data-montage-id="displayFeatureButtons">
                    <div data-montage-id="inspectFeatureButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-inspectLabel"></span>
                    </div>
                    <div data-montage-id="zoomToFeatureButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-zoomLabel"></span>
                    </div>
                    <div data-montage-id="moreInfoHyperLink"
                         class="contour-MapTipOverlay-MoreInfoHyperlink contour-MapTipOverlay-Button">
                        MORE INFO
                    </div>
                </div>
            </div>
            <div data-arg="HAZARD">
                <div data-montage-id="hazardSummary"></div>
                <div class="contour-MapTipOverlay-buttonBar" data-montage-id="displayHazardButtons">
                    <div class="contour-MapTipOverlay-Button" data-montage-id="inspectHazardButton">
                        <span class="contour-MapTipOverlay-inspectLabel"></span>
                    </div>
                    <div class="contour-MapTipOverlay-Button" data-montage-id="editHazardButton">
                        <span class="contour-MapTipOverlay-editButtonLabel"></span>
                    </div>
                    <div class="contour-MapTipOverlay-Button" data-montage-id="enableDefaultLayersButton">
                        <span class="contour-MapTipOverlay-layersButtonLabel"></span>
                    </div>
                    <div class="contour-MapTipOverlay-Button" data-montage-id="listHazardProductsButton">
                        <span class="contour-MapTipOverlay-listProductLabel"></span>
                    </div>
                    <div class="contour-MapTipOverlay-Button" data-montage-id="inspectHazardAreaBriefButton">
                        <span class="contour-MapTipOverlay-inspectAreaBriefLabel"></span>
                    </div>
                </div>
            </div>
            <div data-arg="PRODUCT">
                <div data-montage-id="productSummary"></div>
                <div class="contour-MapTipOverlay-productGallery-wrapper">
                    <div class="contour-MapTipOverlay-productGallery" data-montage-id="productsGallery"></div>
                </div>
                <div class="contour-MapTipOverlay-buttonBar" data-montage-id="displayProductButtons">
                    <div data-montage-id="showSummaryButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-summaryLabel"></span>
                    </div>
                    <div data-montage-id="showGalleryButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-galleryLabel"></span>
                    </div>
                    <div data-montage-id="zoomToProductButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-zoomLabel"></span>
                    </div>
                    <div data-montage-id="fullScreenButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-fullScreenLabel"></span>
                    </div>
                </div>
            </div>
            <div data-arg="TrafficCam"></div>
            <div data-arg="IMPORTED">
                <div data-montage-id="importedFeatureSummary"></div>
                <div class="contour-MapTipOverlay-buttonBar" data-montage-id="displayFeatureButtons">
                    <div data-montage-id="inspectFeatureButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-inspectLabel"></span>
                    </div>
                    <div data-montage-id="zoomToFeatureButton" class="contour-MapTipOverlay-Button">
                        <span class="contour-MapTipOverlay-zoomLabel"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>

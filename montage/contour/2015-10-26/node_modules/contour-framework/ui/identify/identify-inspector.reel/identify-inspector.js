/**
 * @module ui/identify-inspector.reel
 */
var Component = require("montage/ui/component").Component,
    IdentifyLayerList = require("ui/identify/identify-layer-list.reel").IdentifyLayerList,
    moment = require("moment-timezone"),
    IdentifySummary = require("logic/model/identify-summary").IdentifySummary;

/**
 * @class IdentifyInspector
 * @extends Component
 */
exports.IdentifyInspector = Component.specialize(/** @lends IdentifyInspector# */ {

    _actionMenu: { value: null },

    _identify: { value: null },

    _identifySummariesListener: {
        value: null
    },

    _layerList: { value: null },

    _preparedForAction: { value: false },

    _succession: { value: null },

    handleMenuAction: {
        value: function (e) {
            e.stopPropagation();
            IdentifySummary.exportLayersToCSV(this._layerList.selectedItems, true);
        }
    },

    identify: {
        get: function () {
            return this._identify;
        },
        set: function (value) {
            if (value && this._identify !== value) {
                this._identify = value;
            }

        }
    },

    prepareForActivationEvents: {
        value: function () {
            if (!this._preparedForAction) {
                this._preparedForAction = true;
                this._actionMenu.addEventListener("menuAction", this);
            }
        }
    }
});

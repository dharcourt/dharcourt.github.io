/*******************************************************************************
 * General Style
 */

.contour-Panel {
    pointer-events: none;
}

.contour-Panel-resizablePanel {
    height: 100%;
    z-index: 300; /* Larger than map's z-index so panels are above map buttons. */
}

/*******************************************************************************
 * Title Bar Style and Animation - Portrait - Both Left and Right Successions
 */

/* Large screen (visible menu and header). */
@media (max-aspect-ratio: 999999/1000000) and (max-width: 1199px) and (min-width: 700px) and (min-height: 700px)  {

    .contour-Panel .contour-TitleBar--isLarge {
        position: fixed;
        top: 44px;
        left: 44px;
        right: 0;
        z-index: -1; /* During build-ins and build-outs the position: fixed
                     /* above does not apply, so the title bar will be displayed
                     /* with the panel content body. This z-index value ensures
                     /* it is behind the panel content body and not visible
                     /* while this is happening. */
    }

}

/* Small screen (hidden menu and header). */
@media (max-aspect-ratio: 999999/1000000) and (max-width: 699px),
       (max-aspect-ratio: 999999/1000000) and (max-height: 699px) and (max-width: 1199px),
       (max-width: 299px) {

    .contour-Panel .contour-TitleBar--isLarge {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: -1; /* See the comment for the same property above. */
    }

    .contour-ResizablePanel-leftSuccession .montage--buildIn-duration .contour-TitleBar--isLarge,
    .contour-ResizablePanel-rightSuccession .montage--buildIn-duration .contour-TitleBar--isLarge {
        -webkit-animation: contour-Panel--fadeIn 500ms step-end;
        animation: contour-Panel--fadeIn 500ms step-end;
    }

    .contour-ResizablePanel-leftSuccession .montage--buildOut-duration .contour-TitleBar--isLarge,
    .contour-ResizablePanel-rightSuccession .montage--buildOut-duration .contour-TitleBar--isLarge {
        -webkit-animation: contour-Panel--fadeOut 500ms step-start;
        animation: contour-Panel--fadeOut 500ms step-start;
    }

}

/*******************************************************************************
 * Panel Animation - Portrait - Both Left and Right Successions;
 * must match MediaQueryList in JavaScript.
 */

@media (max-width: 1199px) and (max-aspect-ratio: 999999/1000000),
       (max-width: 299px) {

    .contour-ResizablePanel-leftSuccession.montage-Succession--push,
    .contour-ResizablePanel-leftSuccession.montage-Succession--pop {
        background: none;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--push .montage--buildIn-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--pop .montage--buildIn-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--replace .montage--buildIn-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--clear .montage--buildIn-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--push .montage--buildIn-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--pop .montage--buildIn-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--replace .montage--buildIn-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--clear .montage--buildIn-duration {
        -webkit-animation: contour-Panel--slideInBottom 500ms;
        animation: contour-Panel--slideInBottom 500ms;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--push .montage--buildOut-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--pop .montage--buildOut-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--replace .montage--buildOut-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--clear .montage--buildOut-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--push .montage--buildOut-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--pop .montage--buildOut-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--replace .montage--buildOut-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--clear .montage--buildOut-duration {
        -webkit-animation: contour-Panel--slideOutBottom 500ms;
        animation: contour-Panel--slideOutBottom 500ms;
    }

}

/*******************************************************************************
 * Panel Animation - Landscape - Left Succession
 */

@media (min-width: 300px) and (min-aspect-ratio: 1/1),
       (min-width: 1200px) {

    .contour-ResizablePanel-leftSuccession.montage-Succession--push,
    .contour-ResizablePanel-leftSuccession.montage-Succession--pop {
        /* Make sure the map can't be seen behind the content building out
        /* even if the content building in is a bit delayed. */
        background-color: white;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--push .montage--buildIn-duration {
        -webkit-animation: contour-Panel--slideInRight 500ms backwards;
        animation: contour-Panel--slideInRight 500ms backwards;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--push .montage--buildOut-duration {
        /* The build-out duration is longer than the build-in one so users don't
        /* see a slice of the background when the build-in is delayed a bit. */
        -webkit-animation: contour-Panel--slideOutLeftParallax 750ms forwards;
        animation: contour-Panel--slideOutLeftParallax 750ms forwards;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--pop .montage--buildIn-duration {
        -webkit-animation: contour-Panel--slideInLeft 500ms backwards;
        animation: contour-Panel--slideInLeft 500ms backwards;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--pop .montage--buildOut-duration {
        /* The build-out duration is longer to match the push build-out. */
        -webkit-animation: contour-Panel--slideOutRightParallax 750ms forwards;
        animation: contour-Panel--slideOutRightParallax 750ms forwards;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--replace .montage--buildIn-duration {
        -webkit-animation: contour-Panel--slideInLeft 500ms backwards;
        animation: contour-Panel--slideInLeft 500ms backwards;
    }

    .contour-ResizablePanel-leftSuccession.montage-Succession--replace .montage--buildOut-duration,
    .contour-ResizablePanel-leftSuccession.montage-Succession--clear .montage--buildOut-duration {
        -webkit-animation: contour-Panel--slideOutLeft 500ms forwards;
        animation: contour-Panel--slideOutLeft 500ms forwards;
    }

}

/*******************************************************************************
 * Panel Animation - Landscape - Right Succession
 */

@media (min-width: 300px) and (min-aspect-ratio: 1/1),
       (min-width: 1200px) {

    /* No push or pop for the right succession... that would look strange, so
    /* the right succession can only have one level of panels. */

    .contour-ResizablePanel-rightSuccession.montage-Succession--replace .montage--buildIn-duration {
        -webkit-animation: contour-Panel--slideInRight 500ms backwards;
        animation: contour-Panel--slideInRight 500ms backwards;
    }

    .contour-ResizablePanel-rightSuccession.montage-Succession--replace .montage--buildOut-duration,
    .contour-ResizablePanel-rightSuccession.montage-Succession--clear .montage--buildOut-duration {
        -webkit-animation: contour-Panel--slideOutRight 500ms forwards;
        animation: contour-Panel--slideOutRight 500ms forwards;
    }

}

/*******************************************************************************
 * Pane Animation - Portrait and Landscape
 */

/* Panes have transparent backgrounds by default, which cause components building in & out overlap */
/*.contour-Pane-succession > .contour-Succession-succession > * {*/
    /*background-color: white;*/
/*}*/

.contour-Pane-succession.montage-Succession--push .montage--buildIn-duration {
    -webkit-animation: contour-Panel--slideInRight 500ms;
    animation: contour-Panel--slideInRight 500ms;
}

.contour-Pane-succession.montage-Succession--push .montage--buildOut-duration {
    /* The build-out duration is longer than the build-in one so users don't
    /* see a slice of the background when the build-in is delayed a bit. */
    -webkit-animation: contour-Panel--slideOutLeftParallax 750ms;
    animation: contour-Panel--slideOutLeftParallax 750ms;
}

.contour-Pane-succession.montage-Succession--pop .montage--buildIn-duration {
    -webkit-animation: contour-Panel--slideInLeft 500ms;
    animation: contour-Panel--slideInLeft 500ms;
}

.contour-Pane-succession.montage-Succession--pop .montage--buildOut-duration {
    /* The build-out duration is longer to match the push build-out. */
    -webkit-animation: contour-Panel--slideOutRightParallax 750ms;
    animation: contour-Panel--slideOutRightParallax 750ms;
}

/* Even though no animation is desired, we need an animation for the
/* animationend event to be generated, so a quick animation that will be
/* invisible to users is defined. A duration of 0 wouldn't work for Safari 9 so
/* 1ms is used. The "step-start" animation-timing-function is used to force the
/* content state be either the start or end state of the animation and avoid any
/* overlap between incoming and outgoing content. */
.contour-Pane-succession.montage-Succession--replace .montage--buildIn-duration {
    -webkit-animation: contour-Panel--fadeIn 1ms step-start;
    animation: contour-Panel--fadeIn 1ms step-start;
}

/* See the corresponding build-in ruleset for information. */
.contour-Pane-succession.montage-Succession--replace .montage--buildOut-duration {
    -webkit-animation: contour-Panel--fadeOut 1ms step-start;
    animation: contour-Panel--fadeOut 1ms step-start;
}

/*******************************************************************************
 * Keyframes - Portrait
 */

@-webkit-keyframes contour-Panel--slideInBottom {
    from {
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

@keyframes contour-Panel--slideInBottom {
    from {
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

@-webkit-keyframes contour-Panel--slideInTop {
    from {
        -webkit-transform: translate3d(0, -44px, 0);
        transform: translate3d(0, -44px, 0);
        display: none;
    }
}

@keyframes contour-Panel--slideInTop {
    from {
        -webkit-transform: translate3d(0, -44px, 0);
        transform: translate3d(0, -44px, 0);
        display: none;
    }
}

@-webkit-keyframes contour-Panel--slideOutBottom {
    to {
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

@keyframes contour-Panel--slideOutBottom {
    to {
        -webkit-transform: translate3d(0, 100%, 0);
        transform: translate3d(0, 100%, 0);
    }
}

@-webkit-keyframes contour-Panel--slideOutTop {
    to {
        -webkit-transform: translate3d(0, -44px, 0);
        transform: translate3d(0, -44px, 0);
        display: none;
    }
}

@keyframes contour-Panel--slideOutTop {
    to {
        -webkit-transform: translate3d(0, -44px, 0);
        transform: translate3d(0, -44px, 0);
        display: none;
    }
}

/*******************************************************************************
 * Keyframes - Landscape
 */

@-webkit-keyframes contour-Panel--slideInLeft {
    from {
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

@keyframes contour-Panel--slideInLeft {
    from {
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

@-webkit-keyframes contour-Panel--slideInRight {
    from {
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

@keyframes contour-Panel--slideInRight {
    from {
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

@-webkit-keyframes contour-Panel--slideOutLeft {
    to {
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

@keyframes contour-Panel--slideOutLeft {
    to {
        -webkit-transform: translate3d(-100%, 0, 0);
        transform: translate3d(-100%, 0, 0);
    }
}

@-webkit-keyframes contour-Panel--slideOutLeftParallax {
    to {
        opacity: 0.9;
        -webkit-filter: brightness(40%);
        filter: brightness(40%);
        -webkit-transform: translate3d(-50%, 0, 0);
        transform: translate3d(-50%, 0, 0);
    }
}

@keyframes contour-Panel--slideOutLeftParallax {
    to {
        opacity: 0.9;
        -webkit-filter: brightness(40%);
        filter: brightness(40%);
        -webkit-transform: translate3d(-50%, 0, 0);
        transform: translate3d(-50%, 0, 0);
    }
}

@-webkit-keyframes contour-Panel--slideOutRight {
    to {
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

@keyframes contour-Panel--slideOutRight {
    to {
        -webkit-transform: translate3d(100%, 0, 0);
        transform: translate3d(100%, 0, 0);
    }
}

@-webkit-keyframes contour-Panel--slideOutRightParallax {
    to {
        opacity: 0.9;
        -webkit-filter: brightness(40%);
        filter: brightness(40%);
        -webkit-transform: translate3d(50%, 0, 0);
        transform: translate3d(50%, 0, 0);
    }
}

@keyframes contour-Panel--slideOutRightParallax {
    to {
        opacity: 0.9;
        -webkit-filter: brightness(40%);
        filter: brightness(40%);
        -webkit-transform: translate3d(50%, 0, 0);
        transform: translate3d(50%, 0, 0);
    }
}

/*******************************************************************************
 * Keyframes - Both Portrait and Landscape
 */

@-webkit-keyframes contour-Panel--fadeIn {
    from {
        opacity: 0;
    }
}

@keyframes contour-Panel--fadeIn {
    from {
        opacity: 0;
    }
}

@-webkit-keyframes contour-Panel--fadeOut {
    to {
        opacity: 0;
    }
}

@keyframes contour-Panel--fadeOut {
    to {
        opacity: 0;
    }
}

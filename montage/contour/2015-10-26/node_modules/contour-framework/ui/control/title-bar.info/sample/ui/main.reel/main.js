var Component = require("montage/ui/component").Component;

/**
 * @class Main
 * @extends external:Component
 */
exports.Main = Component.specialize(/** @lends Main# */ {

    templateDidLoad: {
        value: function () {
            // Set the page title here so index.html can remain generic.
            window.document.title = "Title Bar Sample";
        }
    },

    prepareForActivationEvents: {
        value: function () {
            var i, n;
            for (i = 0, n = this.descriptions.length; i < n; ++i) {
                this.descriptions[i].actions.forEach(function (action) {
                    this.addEventListener(action.toLowerCase() + "Action", this, false);
                    this["handleTitleBar" + (i + 1) + action + "Action"] = this.handleAction.bind(this, this.descriptions[i], action);
                }, this);
            }
        }
    },

    handleAction: {
        value: function (description, action, event) {
            event.stopPropagation();
            description.logAction(action);
        }
    }

});

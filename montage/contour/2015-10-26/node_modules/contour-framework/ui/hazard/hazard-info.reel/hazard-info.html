<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="hazard-info.css">
    <script type="text/montage-serialization">
    {
        "owner": {
            "properties": {
                "element": {"#": "owner"},
                "icon": {"#": "icon"},
                "coordinateEditor": {"@": "coordinateEditor"},
                "severityEditor": {"@": "severityEditor"},
                "categoryEditor": {"@": "categoryEditor"},
                "typeEditor": {"@": "typeEditor"},
                "_creationDate": {"@": "creationDate"},
                "type": {"@": "type"},
                "editBar": {"@": "editBar"}
            },
            "bindings": {
                "_iconUrl": {"<-": "hazard.properties.icon"}
            }
        },

        "autoExpireToggleBar": {
            "prototype": "ui/control/toggle-bar.reel",
            "properties": {
                "element": {"#": "autoExpireToggleBar"},
                "label": "Auto Expire"
            },
            "bindings": {
                "checked": {"<->": "@owner.hazard.properties.autoExpire"}
            }
        },
        "categoryEditor": {
            "prototype": "ui/hazard/hazard-category-editor.reel",
            "properties": {
                "element": {"#": "categoryEditor"},
                "multiSelect": false
            },
            "bindings": {
                "selection.0": {"<->": "@owner.hazard.properties.category"}
            }
        },
        "commentEditor": {
            "prototype": "ui/control/text-area.reel",
            "properties": {
                "element": {"#": "commentEditor"}
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.comment"}
            }
        },
        "commentEditorLabel": {
            "prototype": "ui/control/label.reel",
                "properties": {
                "element": {"#": "commentEditorLabel"},
                "label": "Comment"
            },
            "bindings": {
                "isActive": {"<-": "@commentEditor.hasFocus || @commentEditor.value"},
                "hasFocus": {"<-": "@commentEditor.hasFocus"},
                "enabled": {"<-": "@commentEditor.enabled"}
            }
        },
        "coordinateEditor": {
                "prototype": "ui/control/coordinate-editor.reel",
                "properties": {
                    "element": {"#": "coordinateEditor"},
                    "headerText": "Coordinates",
                    "headerActionLabel": "Select Location"
                },
                "bindings": {
                    "longitude": {"<->": "@owner.hazard.properties.point.get(0)"},
                    "latitude": {"<->": "@owner.hazard.properties.point.get(1)" },
                    "headerActionLabel": {"<-": "@owner.isSelectingLocation ? 'Stop Selection' : 'Select Location on Map'"}
                }
        },
        "creationDate": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "creationDate"}
            },
            "bindings": {
                "value": {"<-": "@owner.hazard.properties.creationDate"}
            }
        },
        "dateLabelBar": {
            "prototype": "ui/control/heading-bar.reel",
            "properties": {
                "element": {"#": "dateLabelBar"},
                "heading": "Date & Time",
                "level": 2
            }
        },

        "descriptionEditor": {
            "prototype": "ui/control/text-area.reel",
            "properties": {
                "element": {"#": "descriptionEditor"}
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.description"},
                "enabled": {"<-": "@owner.mode == 5"}
            }
        },
        "descriptionEditorLabel": {
            "prototype": "ui/control/label.reel",
                "properties": {
                "element": {"#": "descriptionEditorLabel"},
                "label": "Description"
            },
            "bindings": {
                "isActive": {"<-": "@descriptionEditor.hasFocus || @descriptionEditor.value"},
                "hasFocus": {"<-": "@descriptionEditor.hasFocus"},
                "enabled": {"<-": "@descriptionEditor.enabled"}
            }
        },
        "descriptionText": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "descriptionText"},
                "enabled": false
            },
            "bindings": {
                "value": {"<-": "@owner.hazard.properties.description"}
            }
        },
        "descriptionTextLabel": {
            "prototype": "ui/control/label.reel",
                "properties": {
                "element": {"#": "descriptionTextLabel"},
                "label": "Description"
            },
            "bindings": {
                "classList.has('contour-HazardInfo-descriptionTextLabel--hidden')": {"<-": "@owner.mode != 0"}
            }
        },
        "editBar": {
            "prototype": "ui/control/edit-bar.reel",
            "properties": {
                "element": {"#": "editBar"},
                "hasCancel": true
            },
            "bindings": {
                "title": {"<-": "@owner._isNewHazard ? 'Add Hazard' : 'Edit Hazard'"},
                "classList.has('contour-HazardInfo-editBar--visible')": {"<-": "@owner.mode != 0"},
                "hasAdd": {"<-": "@owner.mode == 4 && @owner._isNewHazard"},
                "hasSave": {"<-": "@owner.mode == 4 && !@owner._isNewHazard"}
            }
        },
        "endDateEditor": {
            "prototype": "ui/control/date-editor.reel",
            "properties": {
                "element": {"#": "endDateEditor"},
                "hasTime": true
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.endDate"}
            }
        },
        "endDateLabel": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "endDateLabel"},
                "value": "End"
            }
        },
        "glideUriEditor": {
            "prototype": "ui/control/text-field.reel",
            "properties": {
                "element": {"#": "glideUriEditor"}
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.glideUri"}
            }
        },
        "glideUriEditorLabel": {
            "prototype": "ui/control/label.reel",
                "properties": {
                "element": {"#": "glideUriEditorLabel"},
                "label": "Glide URI"
            },
            "bindings": {
                "isActive": {"<-": "@glideUriEditor.hasFocus || @glideUriEditor.value"},
                "hasFocus": {"<-": "@glideUriEditor.hasFocus"},
                "enabled": {"<-": "@glideUriEditor.enabled"}
            }
        },
        "intlCharterUriEditor": {
            "prototype": "ui/control/text-field.reel",
            "properties": {
                "element": {"#": "intlCharterUriEditor"}
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.charterUri"}
            }
        },
        "intlCharterUriEditorLabel": {
            "prototype": "ui/control/label.reel",
                "properties": {
                "element": {"#": "intlCharterUriEditorLabel"},
                "label": "Int'l Charter URI"
            },
            "bindings": {
                "isActive": {"<-": "@intlCharterUriEditor.hasFocus || @intlCharterUriEditor.value"},
                "hasFocus": {"<-": "@intlCharterUriEditor.hasFocus"},
                "enabled": {"<-": "@intlCharterUriEditor.enabled"}
            }
        },
        "updateDate": {
            "prototype": "ui/control/time-elapsed.reel",
            "properties": {
                "element": {"#": "updateDate"}
            },
            "bindings": {
                "date": {"<-": "@owner.hazard.properties.updateDate" }
            }
        },
        "updateDateLabel": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "updateDateLabel"},
                "value": "Updated: "
            }
        },
        "nameEditor": {
            "prototype": "ui/control/text-field.reel",
            "properties": {
                "element": {"#": "nameEditor"}
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.name"},
                "enabled": {"<-": "@owner.mode != 0"}
            }
        },
        "nameEditorLabel": {
            "prototype": "ui/control/label.reel",
                "properties": {
                "element": {"#": "nameEditorLabel"}
            },
            "bindings": {
                "isActive": {"<-": "@nameEditor.hasFocus || @nameEditor.value"},
                "hasFocus": {"<-": "@nameEditor.hasFocus"},
                "enabled": {"<-": "@nameEditor.enabled"}
            }
        },
        "severityEditor": {
            "prototype": "ui/hazard/hazard-severity-editor.reel",
            "properties": {
                "element": {"#": "severityEditor"},
                "multiSelect":false
            },
            "bindings": {
                "selection.0": {"<->": "@owner.hazard.properties.severity"}
            }
        },
        "link": {
            "prototype": "ui/control/link-display.reel",
            "properties": {
                "element": {"#": "link"}
            },
            "bindings": {
                "link": {"<-": "@owner._hazardLink"},
                "classList.has('contour-HazardInfo-link--hidden')": {"<-": "@owner._isNewHazard"}
            }
        },
        "showPropertyEditors": {
            "prototype": "montage/ui/condition.reel",
            "properties": {
                "element": {"#": "showPropertyEditors" },
                "removalStrategy": "hide"
            },
            "bindings": {
                "condition": {"<-": "@owner.mode != 0"}
            }
        },
        "startDateEditor": {
            "prototype": "ui/control/date-editor.reel",
            "properties": {
                "element": {"#": "startDateEditor"},
                "hasTime": true
            },
            "bindings": {
                "value": {"<->": "@owner.hazard.properties.startDate"}
            }
        },
        "startDateLabel": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "startDateLabel"},
                "value": "Start"
            }
        },
        "type": {
            "prototype": "montage/ui/text.reel",
            "properties": {
                "element": {"#": "type"}
            },
            "bindings": {
                "value": {"<-": "@owner._hazard.properties.typeId" }
            }
        },
        "typeEditor": {
            "prototype": "ui/hazard/hazard-type-editor.reel",
            "properties": {
                    "element": {"#": "typeEditor"},
                    "multiSelect": false,
                    "multiLine": false
            },
            "bindings": {
                "selection.0": {"<->": "@owner.hazard.properties.type"}
            }
        }
    }
    </script>
</head>
<body>
    <div data-montage-id="owner" class="contour-HazardInfo">
        <div data-montage-id="editBar" class="contour-HazardInfo-editBar"></div>
        <div class="contour-HazardInfo-wrapper">
            <div class="contour-HazardInfo-summary">
                <div data-montage-id="icon" class="contour-HazardInfo-icon"></div>
                <div data-montage-id="type" class="contour-HazardInfo-type"></div>
                <div data-montage-id="nameEditorLabel" class="contour-HazardInfo-nameEditorLabel">
                    <div data-montage-id="nameEditor" class="contour-HazardInfo-nameEditor" data-arg="input"></div>
                </div>
                <div data-montage-id="creationDate" class="contour-HazardInfo-creationDate"></div>
                <div data-montage-id="updateDateLabel" class="contour-HazardInfo-updateDateLabel"></div>
                <div data-montage-id="updateDate" class="contour-HazardInfo-updateDate"></div>
            </div>
            <div data-montage-id="link" class="contour-HazardInfo-link"></div>
            <div data-montage-id="descriptionTextLabel" class="contour-HazardInfo-descriptionTextLabel">
                <div data-montage-id="descriptionText" class="contour-HazardInfo-descriptionText" data-arg="input"></div>
            </div>
            <div data-montage-id="showPropertyEditors" class="contour-HazardInfo-propertyEditors">
                <div data-montage-id="categoryEditor" class="contour-HazardInfo-categoryEditor"></div>
                <div data-montage-id="severityEditor" class="contour-HazardInfo-severityEditor"></div>
                <div data-montage-id="typeEditor" class="contour-HazardInfo-typeEditor"></div>
                <div data-montage-id="coordinateEditor" class="contour-HazardInfo-coordinateEditor"></div>
                <div data-montage-id="autoExpireToggleBar" class="contour-HazardInfo-autoExpireToggleBar"></div>
                <div data-montage-id="dateLabelBar" class="contour-HazardInfo-dateLabelBar"></div>
                <div class="contour-HazardInfo-startDateEditorContainer">
                    <div data-montage-id="startDateLabel" class="contour-HazardInfo-startDateLabel"></div>
                    <div data-montage-id="startDateEditor" class="contour-HazardInfo-startDateEditor"></div>
                </div>
                <div class="contour-HazardInfo-endDateEditorContainer">
                    <div data-montage-id="endDateLabel" class="contour-HazardInfo-endDateLabel"></div>
                    <div data-montage-id="endDateEditor" class="contour-HazardInfo-endDateEditor"></div>
                </div>
                <div data-montage-id="descriptionEditorLabel" class="contour-HazardInfo-editorLabel">
                    <div data-montage-id="descriptionEditor" class="editor contour-HazardInfo-descriptionEditor" data-arg="input"></div>
                </div>
                <div data-montage-id="glideUriEditorLabel" class="contour-HazardInfo-editorLabel">
                    <div data-montage-id="glideUriEditor" class="editor contour-HazardInfo-glideUriEditor" data-arg="input"></div>
                </div>
                <div data-montage-id="intlCharterUriEditorLabel" class="contour-HazardInfo-editorLabel">
                    <div data-montage-id="intlCharterUriEditor" class="editor contour-HazardInfo-intlCharterUriEditor" data-arg="input"></div>
                </div>
                <div data-montage-id="commentEditorLabel" class="contour-HazardInfo-editorLabel">
                    <div data-montage-id="commentEditor" class="editor contour-HazardInfo-commentEditor" data-arg="input"></div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

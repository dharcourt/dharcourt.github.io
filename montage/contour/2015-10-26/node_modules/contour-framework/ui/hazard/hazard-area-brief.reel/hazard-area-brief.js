/**
 * @module ui/hazard/hazard-area-brief.reel
 * @requires montage/ui/component
 */
var Component = require("montage/ui/component").Component,
    BriefSelector = require("logic/mock-service/brief-selector").BriefSelector;

/**
 * @class HazardAreaBrief
 * @extends Component
 */
exports.HazardAreaBrief = Component.specialize(/** @lends HazardAreaBrief# */ {
    loading: {
        value: true
    },

    _hazard: {
        value: null
    },

    hazard: {
        set: function (hazard) {
            var self = this,
                center, area;

            center = hazard.geometry.coordinates;

            area = this.application.delegate.createBriefAreaWithBoundingBox([center[0] - 1.5, center[1] - 1.5, center[0] + 1.5,
                center[1] + 1.5], "areaBriefRectangle");

            this.loading = true;

            this.application.mockService.query(new BriefSelector(area)).then(function (brief) {
                self.loading = false;
                self.briefDetails = {
                    brief: brief,
                    area: area
                };
            });

            this._hazard = hazard;
        },
        get: function () {
            return this._hazard;
        }
    }
});

/**
 * @module ui/legend/legend-item-hazards.reel
 */
var Component = require("montage/ui/component").Component,
    HazardTypeSelector = require("logic/mock-service/hazard-type-selector").HazardTypeSelector;
/**
 * @class LegendItemHazards
 * @extends Component
 */
exports.LegendItemHazards = Component.specialize(/** @lends LegendItemHazards# */ {
    constructor: {
        value: function LegendItemHazards() {

        }
    },

    types: {
        value: []
    },

    templateDidLoad: {
        value: function () {
            var self = this;
            if (this.types.length === 0) {
                this.application.mockService.query(new HazardTypeSelector()).then(function (types) {
                    self.types = types;
                    var type;
                    for (var i = 0; i < self.types.length; i++) {
                        type = self.types[i];
                        type.icon = window.localStorage[type.id];
                    }
                });
            }
        }
    },

    layer: {
        value: null
    }
});

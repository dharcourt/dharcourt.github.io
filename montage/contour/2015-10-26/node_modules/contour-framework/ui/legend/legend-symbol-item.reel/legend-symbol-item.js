/**
 * @module ui/legend-symbol-item.reel
 * @requires montage/ui/component
 */
var Component = require("montage/ui/component").Component;

/**
 * @class LegendSymbolItem
 * @extends Component
 */
exports.LegendSymbolItem = Component.specialize(/** @lends LegendSymbolItem# */ {


    // set in serialization
    symbol: {
        value: undefined
    },


    // component lifecycle
    draw: {
        value: function () {
            if (this.legendSymbol) {
                if (this.legendSymbol.url) {
                    this.symbol.style.background = "url('" + this.legendSymbol.url + "') no-repeat center center";
                    this.symbol.style.border = "none";
                } else if (this.legendSymbol.type === "line") {
                    this.symbol.style.background = "none";
                    this.symbol.style.borderColor = this.legendSymbol.strokeColor;
                    this.symbol.style.borderStyle = "solid";
                    this.symbol.style.borderWidth = this.legendSymbol.strokeWeight + "px";
                } else if (this.legendSymbol.type === "polygon") {
                    this.symbol.style.background = this.legendSymbol.fillColor;
                    this.symbol.style.borderColor = this.legendSymbol.strokeColor;
                    this.symbol.style.borderStyle = "solid";
                    this.symbol.style.borderWidth = this.legendSymbol.strokeWeight + "px";
                }

            }
        }
    },

    // set by owner.
    legendSymbol: {
        get: function () {
            return this._legendSymbol;
        },
        set: function (value) {
            if (value && value !== this._legendSymbol) {
                this._legendSymbol = value;
                this.needsDraw = true;
            }
        }
    }

});
